.ng-cloak
  .row
    .col-md-3
      .panel.panel-info
        .panel-body
          %form.form-horizontal(role="form")
            .form-group
              %label.col-sm-2.control-label(for="filter_text")
                Текст
              .col-sm-10
                %input.form-control#filter_text(type="search" placeholder="Поиск" ng-model="filter.query")
            .form-group
              %label.col-sm-2.control-label(for="filter_min_price")
                price range
              .col-sm-10
                %input.form-control#filter_min_price(type="text" placeholder="minimum" ng-model="filter.minPrice")
                %input.form-control#filter_min_price(type="text" placeholder="maximum" ng-model="filter.maxPrice")

    .col-md-9
      %h3 {{currentManufacturer.title}}

      .products_sorting
        %span.pull-left
          Сортировать по:
        %ul.nav.nav-pills
          %li(ng-repeat="(attr, title) in sorting_by" ng-class="selectedCls(attr)")
            %a(ng-click="changeSorting(attr)")
              %span.glyphicon.glyphicon-chevron-up
              %span.glyphicon.glyphicon-chevron-down
              {{title}}

      %table.table
        %tbody
          %tr(ng-repeat="product in filteredProducts() | orderBy:sort.column:sort.descending | startFrom:currentPage*pageSize | limitTo:pageSize")
            %td
              %img(ng-src="{{product.cover.thumb.url}}")
            %td
              %a(ng-href="{{stroiUtils.path_for('ProductCtrl', {product_id: product._id.$oid})}}")
                {{product.title}}
              %p {{product.intro}}
              %span.badge {{product.manufacturer_title}}
            %td
              %span(ng-show="product.min_price")
                от {{product.min_price}}
                %ruble-icon

      %my-paginator(data-current-page="currentPage" data-number-of-pages="numberOfPages")
